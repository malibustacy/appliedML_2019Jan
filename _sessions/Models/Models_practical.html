<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Models</title>

<script src="Models_practical_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="Models_practical_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="Models_practical_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="Models_practical_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="Models_practical_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="Models_practical_files/navigation-1.1/tabsets.js"></script>
<link href="Models_practical_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="Models_practical_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="practical.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Models</h1>
<h4 class="author"><em><table style='table-layout:fixed;width:100%;border:0;padding:0;margin:0'>
<col width='10%'>
<col width='10%'>
<tr style="border:none">
<td style="display:block;width:100%;text-align:left;vertical-align:bottom;padding:0;margin:0;border:none" nowrap>
<font style='font-style:normal'>Applied Machine Learning with R</font> <br> <a href='https://therbootcamp.github.io/appliedML_2019Jan/'> <i class='fas fa-clock' style='font-size:.9em;' ></i> </a> <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;'></i> </a> <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a> <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a> <a href='https://therbootcamp.github.io'> <font style='font-style:normal'>Basel R Bootcamp</font> </a>¬†¬†
</td>
<td style="width:100%;vertical-align:bottom;text-align:right;padding:0;margin:0;border:none">
<img src='https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png' style='height:15px;width:80px'/>
</td>
</tr>
</table></em></h4>

</div>


<p align="center">
<img width="100%" src="image/minority.gif" margin=0><br> <font style="font-size:10px">from <a href="https://gifer.com/en/6Hql">gifer.com</a></font>
</p>
<div id="section" class="section level2 tabset">
<h2></h2>
<div id="overview" class="section level3">
<h3>Overview</h3>
<p>In this practical, you get the chance to enter two model competitions, one on regression and one on classification, that will allow you to demonstrate your knowledge of:</p>
<ol style="list-style-type: decimal">
<li>Machine learning models</li>
<li>Fitting and prediction</li>
<li>Cross-validation and optimization</li>
<li>Data preprocessing and feature selection</li>
</ol>
<p>‚Ä¶and to be like Tom Cruise!</p>
</div>
<div id="datasets" class="section level3">
<h3>Datasets</h3>
<table>
<thead>
<tr class="header">
<th align="left">File</th>
<th align="left">Rows</th>
<th align="left">Columns</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/appliedML_2019Jan/master/_sessions/Models/competition/1_Data/competition_murder_train.csv">murders_crime</a></td>
<td align="left">1000</td>
<td align="left">102</td>
</tr>
<tr class="even">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/appliedML_2019Jan/master/_sessions/Models/competition/1_Data/competition_nonvio_train.csv">nonviolent_crime</a></td>
<td align="left">1000</td>
<td align="left">102</td>
</tr>
<tr class="odd">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/appliedML_2019Jan/master/_sessions/Models/competition/1_Data/competition_murder_test.csv">murders_crime</a></td>
<td align="left">800</td>
<td align="left">102</td>
</tr>
<tr class="even">
<td align="left"><a href="https://raw.githubusercontent.com/therbootcamp/appliedML_2019Jan/master/_sessions/Models/competition/1_Data/competition_nonvio_test.csv">nonviolent_crime</a></td>
<td align="left">800</td>
<td align="left">102</td>
</tr>
</tbody>
</table>
<ul>
<li>The <code>murders_crime</code> and <code>violent_crime</code> data are subsets of the Communities and Crime Unnormalized Data Set data set from the UCI Machine Learning Repository. To see column descriptions, visit this site: <a href="https://archive.ics.uci.edu/ml/datasets/Communities+and+Crime+Unnormalized">Communities and Crime Unnormalized Data Set</a></li>
</ul>
</div>
<div id="cheatsheet" class="section level3">
<h3>Cheatsheet</h3>
<figure>
<center>
<a href="https://github.com/rstudio/cheatsheets/raw/master/caret.pdf"> <img src="https://www.rstudio.com/wp-content/uploads/2015/01/caret-cheatsheet.png" alt="Trulli" style="width:70%">
<figcaption>
hhttps://github.com/rstudio/cheatsheets/raw/master/caret.pdf
</figcaption>
</a>
</figure>
</div>
</div>
<div id="mission-statement" class="section level1">
<h1>Mission statement</h1>
<p>The members of governing council of Basel-Stadt recently met at the comfortable, yet luxurious home of Elisabeth Ackerman‚Äôs, the council‚Äôs president, to watch the latest science-fiction blockbuster, <a href="https://de.wikipedia.org/wiki/Minority_Report">Minority report</a>. In this uplifting, utopian movie Chief John Anderton, marvelously played by Tom Cruise, works together with friendly, but slightly introverted super-beings with the rare (but scientifically proven - see rigorous academic <a href="image/2011-01894-001.pdf">paper</a>) ability to foresee the future in order to arrest perpetrators not after they committed a crime (boring!) but before. Aside from spending a wonderful evening with his colleagues, Baschi D√ºrr, head of justice and homeland security department and the one who proposed the movie, was hoping to win over his fellow council members for a revolutionary program to tackle an unprecedented swell in non-violent crimes and murders in Basel-Stadt in recent months. Baschi D√ºrr knew, of course, that <em>precogs</em> - this is how the super-beings were called - belonged to the land of fairy tails, but during his visit to the recent useR! conference in Brisbane he had learned of the next best thing: machine learning. His goal was, thus, to hire an elite team of programmers and to equip them with a maximally informative data set of past crimes to predict where future crimes would occur. Knowing that Basel shares many similarities with the United States of America, Baschi D√ºrr already had spent a significant amount of money to acquire a data set of murders and non-violent crimes across American counties. Now, he only needed to convince his colleagues. And Fortuna was on his side. The movie and the few bottles of Napoleon French Brandy that he had bought at Coop earlier that day impressed so much that Elisabeth Ackerman decided to dissolve the investigative branch of the police and invest all of its budget into the new ML task force. The next morning, with a slight, manageable hangover, Baschi D√ºrr announced an international ML modeling competition promising that whoever built the best model would head the new task force and, in addition, be rewarded with a lot of üç´üç´üç´.</p>
<p>(Names, characters, businesses, places, events, locales, and incidents are either the products of the author‚Äôs imagination or used in a fictitious manner. Any resemblance to actual persons, living or dead, or actual events is purely coincidental.)</p>
<div id="a---preliminaries" class="section level2">
<h2>A - Preliminaries</h2>
<ol style="list-style-type: decimal">
<li><p>Open your <code>BaselRBootcamp</code> R project. It should already have the folders <code>1_Data</code> and <code>2_Code</code>. Make sure that the data file(s) listed in the <code>Datasets</code> section above are in your <code>1_Data</code> folder.</p></li>
<li><p>Open a new R script. At the top of the script, using comments, write your name and the date. Save it as a new file called <code>Models_practical.R</code> in the <code>2_Code</code> folder.</p></li>
<li><p>Using <code>library()</code> load the set of packages for this practical listed in the packages section above.</p></li>
</ol>
<pre class="r"><code>## NAME
## DATE
## Modeling competition

library(tidyverse)
library(caret)</code></pre>
<ol start="4" style="list-style-type: decimal">
<li><p>IMPORTANT! Download the data sets listed under the <em>Dataset</em> tab and save them in your <code>1_Data</code> folder. They are slightly different from the ones used in the <em>Features</em> session.</p></li>
<li><p>With the code below, load each of the data sets listed in the <code>Datasets</code> as new objects and, importantly, change any character to factors.</p></li>
</ol>
<pre class="r"><code># REGRESSION -----

# Load non-violent crime statistics training data
nonviolent_crime &lt;- read_csv(file = &quot;1_Data/competition_nonvio_train.csv&quot;)

# change character to factor
nonviolent_crime &lt;- nonviolent_crime %&gt;% mutate_if(is.character, as.factor)


# CLASSIFICATION -----

# Load murders crime statistics training data
murders_crime &lt;- read_csv(file = &quot;1_Data/competition_murder_train.csv&quot;)

# change character to factor
murders_crime &lt;- murders_crime %&gt;% mutate_if(is.character, as.factor)</code></pre>
</div>
<div id="b-competition-rules" class="section level2">
<h2>B Competition rules</h2>
<ol style="list-style-type: decimal">
<li><p>You may enter either one or both of two competitions, one on regression (<code>nonviolent_crime</code>) and on classification (<code>murders_crime</code>), each offering as a price plenty of üç´üç´üç´.</p></li>
<li><p>To enter the competitions, you must submit for each competition no more, no less than one caret <code>train</code>-object containing your candidate model. To submit the model, first save your model as an <code>.RDS</code>-file named <code>yourname_regression.RDS</code> and <code>yourname_classification.RDS</code>, respectively, with <code>yourname</code> replaced by your real name or pseudonym using the code below. Do not use any <code>-</code> or <code>_</code> in the file names.</p></li>
</ol>
<pre class="r"><code># save train obect as .RDS
saveRDS(training_model_regression,&#39;1_Data/yourname_regression.RDS&#39;)
saveRDS(training_model_classification,&#39;1_Data/yourname_classification.RDS&#39;)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Submit your <code>.RDS</code> file (containing your training object) via these following Links sheets:</li>
</ol>
<div align="center">
<table>
<tr>
<th>
Task type
</th>
<th>
Criterion
</th>
<th>
Performance measure
</th>
<th>
Submission link
</th>
</tr>
<tr>
<td>
Regression
</td>
<td>
non-violent crimes (<code>nonViolPerPop</code>)
</td>
<td>
MAE
</td>
<td>
<a href="https://docs.google.com/forms/d/e/1FAIpQLSevxp_hxSUrAYgiSU-Xv3hRw_get43qk15blw7QEeLHlbrNbA/viewform?usp=sf_link"><strong>Submit candidate</strong></a>
</td>
</tr>
<tr>
<td>
Classification
</td>
<td>
murders (<code>muders</code>)
</td>
<td>
Accuracy
</td>
<td>
<a href="https://docs.google.com/forms/d/e/1FAIpQLSciw9WyTttmG9Oq93xjGKw_kxNJY9YmtLQvf_p35BcFNm1G-A/viewform?usp=sf_link"><strong>Submit candidate</strong></a>
</td>
</tr>
</table>
</div>
<ol start="4" style="list-style-type: decimal">
<li><p>You may work alone or team up with fellow participants. We recommend the latter, although working alone may, of course, mean more üç´üç´üç´.</p></li>
<li><p>Use any trick in your bag (or <code>caret</code>‚Äôs bag). Feel free to try different models, use different tuning parameter settings, select any variables or variable selection methods that you deem useful.</p></li>
<li><p>In order to be able to fit the models refrain from any feature manipulation other than those accessible via the <code>preProcess</code> argument in the <code>train()</code> function.</p></li>
</ol>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
