<!DOCTYPE html>
<html>
  <head>
    <title>Recap</title>
    <meta charset="utf-8">
    <meta name="author" content="Applied Machine Learning with R   Basel R Bootcamp" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="baselrbootcamp.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Recap
### Applied Machine Learning with R<br> <a href='https://therbootcamp.github.io'> Basel R Bootcamp </a> <br> <a href='https://therbootcamp.github.io/appliedML_2019Jan/'> <i class='fas fa-clock' style='font-size:.9em;'></i> </a>  <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;' ></i> </a>  <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a>  <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a>
### January 2019

---


layout: true

&lt;div class="my-footer"&gt;
  &lt;span style="text-align:center"&gt;
    &lt;span&gt; 
      &lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png" height=14 style="vertical-align: middle"/&gt;
    &lt;/span&gt;
    &lt;a href="https://therbootcamp.github.io/"&gt;
      &lt;span style="padding-left:82px"&gt; 
        &lt;font color="#7E7E7E"&gt;
          www.therbootcamp.com
        &lt;/font&gt;
      &lt;/span&gt;
    &lt;/a&gt;
    &lt;a href="https://therbootcamp.github.io/"&gt;
      &lt;font color="#7E7E7E"&gt;
       Applied Machine Learning with R | January 2019
      &lt;/font&gt;
    &lt;/a&gt;
    &lt;/span&gt;
  &lt;/div&gt; 

---





# What is Machine Learning?

.pull-left45[

Machine learning (ML) is a &lt;high&gt;field of artificial intelligence&lt;/high&gt; that uses &lt;high&gt;statistical techniques&lt;/high&gt; to give computer systems the ability to &lt;high&gt;"learn"&lt;/high&gt; (e.g., progressively improve &lt;high&gt;performance&lt;/high&gt; on a specific task) &lt;high&gt;from data&lt;/high&gt;, without being explicitly programmed. [Wikipedia](https://en.wikipedia.org/wiki/Machine_learning)

### What does this mean?

- Machine Learning is about making *data driven* decisions.

- ML algorithms try to automatically figure out which information is important and which is not.

- ML algorithms are always guided by a *formal definition of performance*.

]

.pull-right5[

&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/cNxadbrN_aI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
]

---

# What is Machine Learning?

.pull-left45[

Machine learning (ML) is a &lt;high&gt;field of artificial intelligence&lt;/high&gt; that uses &lt;high&gt;statistical techniques&lt;/high&gt; to give computer systems the ability to &lt;high&gt;"learn"&lt;/high&gt; (e.g., progressively improve &lt;high&gt;performance&lt;/high&gt; on a specific task) &lt;high&gt;from data&lt;/high&gt;, without being explicitly programmed. [Wikipedia](https://en.wikipedia.org/wiki/Machine_learning)

### What does this mean?

- Machine Learning is about making *data driven* decisions.

- ML algorithms try to automatically figure out which information is important and which is not.

- ML algorithms are always guided by a *formal definition of performance*.

]

.pull-right5[

&lt;br2&gt;

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="https://wordstream-files-prod.s3.amazonaws.com/s3fs-public/styles/simple_image/public/images/machine-learning1.png?SnePeroHk5B9yZaLY7peFkULrfW8Gtaf&amp;itok=yjEJbEKD" alt="&amp;lt;font size = 3&amp;gt;Wordstream.com&amp;lt;/font&amp;gt;" width="100%" /&gt;
&lt;p class="caption"&gt;&lt;font size = 3&gt;Wordstream.com&lt;/font&gt;&lt;/p&gt;
&lt;/div&gt;

]


---


# Essentials: 10 basic R lessons 

.pull-left4[
1. Everything is an object
2. &lt;mono&gt;&lt;-&lt;/mono&gt; creates/changes objects
3. Everything happens through functions
4. Functions have (default) arguments
5. Find help with &lt;mono&gt;?&lt;/mono&gt;
6. Data lives in data frames
7. 3 data types + factors
8. &lt;high&gt;&lt;mono&gt;formula&lt;/mono&gt; and &lt;mono&gt;data&lt;/mono&gt; specify a model&lt;/high&gt;
9. Use RStudio and projects
10. Use editor, shortcuts, auto-complete
]



.pull-right5[


```r
# Run a regression and store result in my_lm
my_lm &lt;- lm(formula = income ~ age + height,
            data = baselers)
```
&lt;br&gt;
&lt;img src="https://raw.githubusercontent.com/therbootcamp/Erfurt_2018June/master/_sessions/_image/formula_description.png"&gt;&lt;/img&gt;
]


---



# Regression Error

.pull-left45[

#### MAE: Mean Absolute Error

`$$\large MAE = \frac{1}{n}\sum_{i=1}^{n} \lvert Prediction_{i} - Truth_{i} \rvert$$`

&gt; On average, how far are predictions away from true values?


#### MSE: Mean Squared Error

`$$\large MSE = \frac{1}{n}\sum_{i=1}^{n}(Prediction_{i} - Truth_{i})^{2}$$`
&gt; On average, how far are predictions away from true values (squared!)?


]

.pull-right5[

&lt;img src="Recap_files/figure-html/unnamed-chunk-5-1.png" width="100%" /&gt;

]

---


# `train()`

.pull-left4[

`train()` is the workhorse fitting function of `caret`.

With just this one function, you can &lt;high&gt;fit any of 200+ models&lt;/high&gt; just by changing the &lt;high&gt;method&lt;/high&gt; argument!


|Argument|Description|
|:-----|:----|
|`form`|Formula specifying criterion|
|`data`|Training data|
|`method`| Model|
|`trControl`| Control parameters|

]


.pull-right55[

### Train a Regression model

Regression: `method = "glm"`


```r
# Fit a regression model predicting Price

mod &lt;- train(form = income ~ ., # Formula
             data = baselers,   # Training data
             method = "glm",    # Regression
             trControl = ctrl)  # Control Parameters
```


]


---

# `train()`

.pull-left4[

`train()` is the workhorse fitting function of `caret`.

With just this one function, you can &lt;high&gt;fit any of 200+ models&lt;/high&gt; just by changing the &lt;high&gt;method&lt;/high&gt; argument!

|Argument|Description|
|:-----|:----|
|`form`|Formula specifying criterion|
|`data`|Training data|
|`method`| Model|
|`trControl`| Control parameters|
]


.pull-right55[

### Train a Random Forest model

Random Forest: `method = "rf"`


```r
# Fit a Random Forest model predicting Price

mod &lt;- train(form = income ~ ., # Formula
             data = baselers,   # Training data
             method = "rf",     # Random Forests
             trControl = ctrl)  # Control Parameters
```

]

---

# Overfitting

![](Recap_files/figure-html/unnamed-chunk-8-1.png)&lt;!-- --&gt;

---

# Decision Trees

.pull-left4[

In [decision trees](https://en.wikipedia.org/wiki/Decision_tree), the criterion is modeled as a &lt;high&gt;sequence of logical YES or NO questions&lt;/high&gt;.
&lt;br&gt;&lt;br&gt;

&lt;p align="center"&gt;
  &lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/defaulttree.png" height="250px"&gt;
&lt;/p&gt;

]

.pull-right55[

&lt;high&gt;Grow Decisions Trees&lt;/high&gt; by splitting features that maximize *Node Purity*.
&lt;br&gt;&lt;br&gt;
&lt;img src="image/tree_purity_example.png" width="100%" /&gt;

]

---

# Random Forest

.pull-left4[

In [Random Forest](https://en.wikipedia.org/wiki/Random_forest), the criterion is modeled as the &lt;high&gt;aggregate prediction of a large number of decision trees&lt;/high&gt; each based on different features.
&lt;br&gt;

&lt;p align="center"&gt;
  &lt;img src="https://raw.githubusercontent.com/therbootcamp/Erfurt_2018June/master/_sessions/_image/randomforest_diagram.png" height="285px"&gt;&lt;br&gt;
  &lt;a href="https://medium.com/@williamkoehrsen"&gt;Source&lt;/a&gt;
&lt;/p&gt;

]

.pull-right55[

In Random Forests, we create a large set of &lt;high&gt;diverse trees&lt;/high&gt; that can be aggregated into one &lt;high&gt;Wisdom of Crowds&lt;/high&gt; judgment.

&lt;img src="image/tree_crowd.png" width="80%" /&gt;

]

---
.pull-left5[

# 5 steps with caret

Step 0: Load training and test data (or create with `createDataPartition()`)


```r
data_train &lt;- read_csv("1_Data/XXX_train.csv")
data_test &lt;- read_csv("1_Data/XXX_test.csv")
```

Step 1: Define control parameters


```r
# Use method = "none" for no advanced fitting
ctrl &lt;- trainControl(method = "none")
```

Step 2: Train model


```r
mod &lt;- train(form = Y ~ .,  
             data = data_train,
             method = "My Favorite Model",
             trControl = ctrl,
             tuneGrid = expand.grid(mtry = 2))
```

]

.pull-right45[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
Step 3: Explore


```r
mod            # Print object
mod$finalModel # Final model
```

Step 4: Predict 


```r
rpart_pred &lt;- predict(object = mod, 
                      newdata = data_test)
```

Step 5: Evaluate prediction accuracy


```r
postResample(pred = rpart_pred, 
             obs = data_test$Y)
```

]

---

class: middle, center

&lt;h1&gt;&lt;a href=https://therbootcamp.github.io/appliedML_2019Jan/index.html&gt;Schedule&lt;/a&gt;&lt;/h1&gt;
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
